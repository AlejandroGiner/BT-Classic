namespace = pitirr_btc_events

#Orban engineer (?-1453) event chain for Byzantium and Ottomans. He first proposes his services to Byzantine emperor, but AI will rarely accept - because price to hire
#is high. If declined, similar event happens to the Ottomans, who will always accept, no matter the funds.
#Gives an arty stack to respective country and some bonus to sieging, since such superguns weren't common and should have the special feeling of having bigass cannon (my dick)
#based on Cristopher columbus event chain from flavor_por and flavor_spa

country_event = {
	id = pitirr_btc_events.1
	title = pitirr_btc_events.1.t
	desc = pitirr_btc_events.1.d
	picture = WESTERNISATION_eventPicture

	fire_only_once = yes

	trigger = {
		tag = BYZ
		NOT = { has_global_flag = orban_happened }
	}

	mean_time_to_happen = {
		months = 36 #3 years, 11.11.1447
		modifier = {
			factor = 0.5
			years_of_income = 1
		}
		modifier = {
			factor = 0.5
			has_idea_group = defensive_ideas
		}
	}


	option = {		# Reject his proposal
		name = pitirr_btc_events.1.a
		ai_chance = {
			factor = 25
			modifier = {
				factor = 80
				years_of_income = 1.5
			}
		}
		set_country_flag = turned_down_orban
		if = {
			limit = {
				exists = TUR
			}
			TUR = {
				country_event = { id = pitirr_btc_events.2 days = 10 }
			}
		}
	}
	option = {		# Hire orban
		name = pitirr_btc_events.1.b
		ai_chance = {
			factor = 75 #will have 75% chance to pick only if it has 1.5 of its yearly income in treasury
			modifier = {
				factor = 0
				NOT = { years_of_income = 1.5 }
			}
		}
		set_global_flag = orban_happened
		add_years_of_income = -1.5
		capital_scope = {
			ROOT = {
				bombard = PREV
			}
		}
	}
}

country_event = {
	id = pitirr_btc_events.2
	title = pitirr_btc_events.2.t
	desc = pitirr_btc_events.2.d
	picture = WESTERNISATION_eventPicture

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = turned_down_orban }
	}

	option = {		# Reject his proposal
		name = pitirr_btc_events.2.a
		ai_chance = { factor = 10 }
		set_country_flag = turned_down_orban
	}
	option = {		# Hire Orban
		name = pitirr_btc_events.2.b
		ai_chance = { factor = 90 }
		add_years_of_income = -0.25
		set_global_flag = orban_happened
		capital_scope = {
			ROOT = {
				bombard = PREV
				}
		}
	}
}
